{% extends "base.html" %}
{% block title %}Gerenciar UsuÃ¡rios{% endblock %}

{% block content %}
<div class="page-container">

  <div class="pedido-card">
    <h2 class="admin-title" style="text-align:center;">ğŸ‘¤ Gerenciar UsuÃ¡rios</h2>

    <div class="table-wrapper">
      <table class="table-admin">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Email</th>
            <th>Telefone</th>
            <th>Data Cadastro</th>
            <th>AÃ§Ãµes</th>
          </tr>
        </thead>

        <tbody>
          {% for u in usuarios %}
          <tr>
            <td>{{ u.id }}</td>
            <td>{{ u.nome }}</td>
            <td>{{ u.email }}</td>
            <td>{{ u.telefone or "â€”" }}</td>

            <td>
                {% if u.data_cadastro %}
                    {{ u.data_cadastro.strftime("%d/%m/%Y %H:%M") }}
                {% else %}
                    â€”
                {% endif %}
            </td>

            <td style="white-space:nowrap;">

              <!-- BotÃ£o Editar -->
              <a href="{{ url_for('admin_editar_usuario', user_id=u.id) }}"
                 class="btn-small"
                 style="margin-right:6px;">
                âœ Editar
              </a>

              <!-- BotÃ£o Excluir -->
              <form action="{{ url_for('admin_deletar_usuario', id=u.id) }}"
                    method="POST"
                    style="display:inline;"
                    onsubmit="return confirm('Excluir o usuÃ¡rio {{ u.nome }}?');">
                <button class="btn-small btn-danger">ğŸ—‘ Excluir</button>
              </form>

            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>
</div>
{% endblock %}
